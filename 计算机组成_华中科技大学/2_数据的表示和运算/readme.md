# 数据的表示和运算 重要知识点

## 一、运算方法和运算电路

### ALU 算术逻辑单元

- ALU是一种功能较强的组合逻辑电路，能进行多种算术运算和逻辑运算。

1. ZF：若ZF为1，则表示运算结果为0。
2. OF：若OF为1，则表示带符号整数运算发生溢出。
3. SF：表示结果的符号。
4. CF：表示无符号整数运算的进位/借位。CF=1时，表示加法有进位或减法有借位。

- 判断溢出的规则为
  - 若加法器的两个输入端的符号相同，且不同于输出端的符号的符号，则结果溢出。（适用于有符号数）
  - 加法器完成加法操作时，若最高数位的进位和符号位的进位不同不同，则结果溢出。（通用）
  - 双符号位。00表示结果为正无溢出；01表示结果正溢出；10表示结果负溢出；11表示结果为负，无溢出。

### 补码一位乘法（Booth算法）

- 设[X]补=Xs.X1X2...Xn，[Y]补=Ys.Y1Y2...Yn，则运算规则表示如下：

1. 符号位参与运算，运算的数均以补码表示。
2. 被乘数一般取双符号位参与运算，部分积取双符号位，初值为0，乘数取单符号位。
3. 乘数末位增设附加位Yn+1，初值为0。
4. 根据(Yn,Yn+1)的取值来确定操作。
   - (0,0)：部分积右移一位
   - (0,1)：部分积加[X]补，右移一位
   - (1,0)：部分积加[-X]补，右移一位
   - (1,1)：部分积右移一位。
5. 移位按补码右移规则进行。
6. 按照上述操作进行n+1步操作，单第n+1步不在位移（共进行n+1次累加和n次右移），仅根据Yn与Yn+1的比较结果做相应的运算。

### 原码不恢复余数法除法

- 原码不恢复余数法爷成原码加减交替除法。特点是商符和商值是分开进行的，减法操作用补码加法实现，商符由两个操作数的符号位“异或”形成。
- 设被除数[X]原=Xs.X1X2...X3，除数[Y]原=Ys.Y1Y2...Yn，则求商值的规则如下：

1. 商的符号：Qs=Xs异或Ys
2. 商的数值：|Q|=|X|/|Y|
3. 先用被除数减去除数(|X|-|Y|=|X|+(-|Y|)=|X|+[-Y]补)，当余数为正项时，商上1，余数和商左移一位，再减去除数；当余数为负时，商上0，余数和商左移一位，再加上余数。
4. 当第n+1步余数为负时，需加上|Y|得到第n+1步正确的余数（余数与被除数同号）。

### 大端存储与小端存储

- 大端：即大尾端，数据的低位放在地址的高位。
- 小端：即小尾端，数据的低位放在地址的低位。

### 边界对齐

- 32位机器，半字地址一定是2的整数倍，子地址一定是4的整数倍。
- 边界对齐虽然浪费了一些存储空间，但可提高指令和取数的速度。
